<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

    <body>

        <div th:fragment="default">
            <div id="page-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div th:inline="text" class="col-lg-12">
                            <h1 th:text="${viewparams.pagetitle}"></h1>
                            <p th:text="${viewparams.content}"></p>
                        </div>
                        <!-- /.col-lg-12 -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.container-fluid -->
            </div>
        </div>

        <div th:fragment="view_source">
            <div id="page-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div th:inline="text" class="col-lg-12">
                            <h1 th:text="'Source ' + ${source.id}"></h1>
                        </div>
                        <!-- /.col-lg-12 -->
                    </div>

                    <div th:each="device : ${source.devices}" class="row">
                        <div class="col-lg-12">
                            <div class="panel panel-default">
                                <div class="panel-heading" th:if="${device.status} == true">
                                    <i class="fa fa-circle fa-fw"></i> <span th:text="'Device ' + ${device.id}"></span>
                                </div>
                                <div class="panel-heading" th:if="${device.status} == false">
                                    <i class="fa fa-circle-o fa-fw"></i> <span th:text="'Device ' + ${device.id}"></span>
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">

                                    <h2></h2>
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>Sensor ID</th>
                                                    <th>Readouts</th>
                                                    <th>Options</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="sensor : ${device.sensors}">
                                                    <td th:text="${sensor.id}"></td>
                                                    <td th:text="${sensor.getReadouts().size()}"></td>
                                                    <td>
                                                        <a type="button" class="btn btn-primary btn-xs" th:href="@{/readouts/{deviceid}/{sensorid}/view(deviceid = ${device.id}, sensorid = ${sensor.id})}">Readouts</a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>

                            </div>
                            <!-- /.container-fluid -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div th:fragment="list_readouts">
            <div id="page-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 th:text="'Sensor ' + ${sensor.id}"></h1>
                            <div class="panel panel-default">
                                <div class="panel-heading" th:text="'Listing ' + ${sensor.getReadouts().size()} + ' readouts:'"></div>
                                <div class="panel-body">
                                    
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th>Time of measurement</th>
                                                    <th>Quantity</th>
                                                    <th>Measurement</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr th:each="readout : ${sensor.readouts}">
                                                    <td th:text="${#dates.format(readout.getTimeAsDate(), 'dd.MM.yyyy HH:mm:ss')}"></td>
                                                    <td th:text="${readout.quantity}"></td>
                                                    <td th:text="${readout.value} +  ' ' + ${readout.unit}"></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div th:fragment="visual_realtime">
            <div id="page-wrapper">
                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">Flot</h1>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <!-- /.row -->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Line Chart Example
                            </div>
                            <!-- /.panel-heading -->
                            <div class="panel-body">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="flot-line-chart"></div>
                                </div>
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel -->
                    </div>
                    <!-- /.col-lg-12 -->
                    <div class="col-lg-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Pie Chart Example
                            </div>
                            <!-- /.panel-heading -->
                            <div class="panel-body">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="flot-pie-chart"></div>
                                </div>
                            </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel -->
                    </div>
                    <!-- /.col-lg-6 -->
                    <div class="col-lg-6">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Multiple Axes Line Chart Example
                            </div>
                            <!-- /.panel-heading -->
                            <div class="panel-body">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="flot-line-chart-multi"></div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div th:fragment="visual_history">
                <div id="page-wrapper">
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">Morris.js Charts</h1>
                        </div>
                        <!-- /.col-lg-12 -->
                    </div>
                    <!-- /.row -->
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Area Chart Example
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div id="morris-area-chart"></div>
                                </div>
                                <!-- /.panel-body -->
                            </div>
                            <!-- /.panel -->
                        </div>
                        <!-- /.col-lg-6 -->
                        <div class="col-lg-6">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Bar Chart Example
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div id="morris-bar-chart"></div>
                                </div>
                                <!-- /.panel-body -->
                            </div>
                            <!-- /.panel -->
                        </div>
                        <!-- /.col-lg-6 -->
                        <div class="col-lg-6">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Line Chart Example
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div id="morris-line-chart"></div>
                                </div>
                                <!-- /.panel-body -->
                            </div>
                            <!-- /.panel -->
                        </div>
                        <!-- /.col-lg-6 -->
                        <div class="col-lg-6">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Donut Chart Example
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <div id="morris-donut-chart"></div>
                                </div>
                                <!-- /.panel-body -->
                            </div>
                            <!-- /.panel -->
                        </div>
                        <!-- /.col-lg-6 -->
                        <div class="col-lg-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    Morris.js Usage
                                </div>
                                <!-- /.panel-heading -->
                                <div class="panel-body">
                                    <p>Morris.js is a jQuery based charting plugin created by Olly Smith. In SB Admin, we are using the most recent version of Morris.js which includes the resize function, which makes the charts fully responsive. The documentation for Morris.js is available on their website, <a target="_blank" href="http://morrisjs.github.io/morris.js/">http://morrisjs.github.io/morris.js/</a>.</p>
                                    <a target="_blank" class="btn btn-default btn-lg btn-block" href="http://morrisjs.github.io/morris.js/">View Morris.js Documentation</a>
                                </div>
                                <!-- /.panel-body -->
                            </div>
                            <!-- /.panel -->
                        </div>
                        <!-- /.col-lg-6 -->
                    </div>
                    <!-- /.row -->
                </div>
            </div>
        </div>

    </body>
</html>